<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>The Story of Cat & Duck</title>
<style>
  body{
    margin:0; background:#0b0b12; color:#f5f5f5; font-family: 'Georgia', serif; display:flex; align-items:center; justify-content:center; height:100vh; overflow:hidden;
  }
  #book{ max-width:700px; width:90%; text-align:center; }
  .hidden{ display:none; }
  input{ padding:12px; border-radius:8px; border:none; width:220px; text-align:center; font-size:16px; }
  button{ margin-top:20px; padding:10px 18px; border:none; border-radius:10px; background:#e63946; color:white; font-size:16px; cursor:pointer; transition:0.25s ease; }
  #text{ font-size:22px; line-height:1.6; min-height:120px; }
  #art{ width:100%; max-height:280px; object-fit:contain; margin-top:20px; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,0.4);} 
  .fade{ animation:fade 1s ease; }
  @keyframes fade{ from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }
  .rose{ font-size:60px; animation:bloom 2s ease forwards; }
  @keyframes bloom{ 0%{transform:scale(0);} 60%{transform:scale(1.2);} 100%{transform:scale(1);} }
  #choices button{ margin:12px; }
  #yesBtn{ background:#ff4d6d; }
  #noBtn{ background:#666; }
</style>
</head>
<body>
<div id="book">
  <div id="lock">
    <h2>Long long ago, the universe started sculpting a tiny Duck...</h2>
    <p>To open this story, tell me when she arrived on this planet</p>
    <input id="pwd" placeholder="DD-MM-YYYY" />
    <br><button onclick="unlock()">Open</button>
    <p id="err"></p>
  </div>

  <div id="story" class="hidden">
    <div id="text"></div>
    <img id="art" src="" alt="story image" />
    <button id="next" onclick="nextPage()">Next</button>
  </div>

  <div id="final" class="hidden">
    <div class="rose">ðŸŒ¹</div>
    <h2>On this Rose Day...</h2>
    <h1 id="proposal">Will you be my valentine?</h1>
    <div id="choices">
      <button id="yesBtn" onclick="yesClicked()">YESðŸ¥°</button>
      <button id="noBtn" onclick="noClicked()">NoðŸ˜’</button>
    </div>
    <p id="after"></p>
  </div>
</div>

<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
const PASSWORD = "28-10-2002";

const pages = [
"The Duck was very strong, intelligent, very mean... and ofc veryy cute. Somewhere nearby lived a wimpy Cat who cried a lot because he lost his scale. (It was with the duck.)",
"Years later, destiny took help from Steve Smith being a pookie during ball tampering... and their timelines crossed again.",
"On 15th October 2019, the Duck turned into a moth, and the Cat into a candle.",
"They fought. They laughed. The Duck yapped while holding the Cat's hands. The Cat so shy.",
"But the Cat always knew... she was the love of his life."
];

const images = [
"images/page1.jpg",
"images/page2.jpg",
"images/page3.jpg",
"images/page4.jpg",
"images/page5.jpg"
];

let i=0;
let noCount=0;
let yesScale=1;

function unlock(){
  const val=document.getElementById('pwd').value.trim();
  if(val===PASSWORD){
    document.getElementById('lock').classList.add('hidden');
    document.getElementById('story').classList.remove('hidden');
    document.getElementById('music').play().catch(()=>{});
    showText();
  }else{
    document.getElementById('err').innerText="Hmm... the universe disagrees. (perhaps use hyphens '-' )";
  }
}

function showText(){
  const text=document.getElementById('text');
  text.classList.remove('fade');
  void text.offsetWidth;
  text.innerText=pages[i];
  document.getElementById('art').src = images[i];
  text.classList.add('fade');
  if(i===pages.length-1) document.getElementById('next').innerText="Finish";
}

function nextPage(){
  i++;
  if(i<pages.length){ showText(); }
  else{
    document.getElementById('story').classList.add('hidden');
    document.getElementById('final').classList.remove('hidden');
  }
}

function yesClicked(){
  document.getElementById('after').innerText="KhekhekhekhekhekheðŸ™ˆ";
  document.getElementById('choices').style.display='none';
}

function noClicked(){
  noCount++;
  yesScale+=0.25;
  const yes=document.getElementById('yesBtn');
  yes.style.transform=`scale(${yesScale})`;

  let text="PLEASE";
  if(noCount>1) text+=` x${noCount}`;
  text+=" be my valentine";
  document.getElementById('proposal').innerText=text;
}
</script>
</body>
</html>

